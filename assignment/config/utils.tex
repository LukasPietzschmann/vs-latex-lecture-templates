\def\link #1 to #2;{%
	\def\reduline{\bgroup\markoverwith{\textcolor{uulm-in-link}{\rule[-0.2ex]{1pt}{0.08pt}}}\ULon}%
	\reduline{\href{#2}{#1}}%
}

\def\isempty#1{\relax\detokenize{#1}\relax}

\def\@ensurehelper#1#2#3{%
	\expandafter\def\csname @#1\endcsname{#3}%
	\if\isempty{#2}%
		\expandafter\def\csname @short#1\endcsname{#3}%
	\else%
		\expandafter\def\csname @short#1\endcsname{#2}%
	\fi%
}

% Example :)
% \ensureinfocommand{name} will generate the following macros:
% - \name
% - \@name
% - \@shortname
% \name is used to set the name (and short name) from outside the class: \name[Luke]{Lukas Pietzschmann}
% \@name and \shortname are used to retrieve the previously set values from inside the class
% \@name would expand to "Lukas Pietzschmann"
% \@shortname would expand to "Luke"
% If the user does not specify a short name (\name{Lukas Pietzschmann}), \shortname will simply expand to \@name
\def\ensureinfocommand#1{%
	\ifcsname#1\endcsname%
		\expandafter\renewcommand\csname#1\endcsname[2][]{\@ensurehelper{#1}{##1}{##2}}%
	\else%
		\expandafter\newcommand\csname#1\endcsname[2][]{\@ensurehelper{#1}{##1}{##2}}%
	\fi%
}

\tikzset{ul/.style={#1,opacity=0.35,rounded corners=.17ex}}
\newcommand\ul[5][0pt]{\begin{tikzpicture}[o]
	\coordinate(#5_west) at ([yshift=#1-0.2ex]pic cs:#3);
	\coordinate(#5_east) at ([yshift=#1+0.4ex]pic cs:#4);
	\fill[ul=#2] (#5_west) rectangle node(#5){} (#5_east);
\end{tikzpicture}}

\def\pencolor{pencolor} % the macro will be expanded after we set the color
\ifthenelse{\boolean{nocolor}}{\colorlet{pencolor}{lightgray}}{\definecolor{pencolor}{RGB}{38,162,105}}
\newsavebox\@penb
\newcommand\pen@wdth{.8}
\newcommand\pen@hght{0.3}
\savebox\@penb{\begin{tikzpicture}
	\draw[line width=1.5px,rounded corners=.5mm] (0.1,0) -- (\pen@wdth-0.2,0) -- (\pen@wdth,0.5*\pen@hght) -- (\pen@wdth-0.2,\pen@hght) -- (0.1,\pen@hght);
	\draw[fill=\pencolor,line width=1.5px,rounded corners=.5mm] (0.2,0) -- (0,0) -- (0,\pen@hght) -- (0.2,\pen@hght) -- cycle;
	\draw[line width=1.5px] (\pen@wdth-0.075,\pen@hght-0.1) -- (\pen@wdth-0.075,0.1);
\end{tikzpicture}}
\def\@pen{\normalsize\resizebox{!}{1ex}{\usebox\@penb}}
